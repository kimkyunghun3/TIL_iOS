요번 프로젝트를 하며 다른 팀원들과 협업을 위해 git flow 전략을 사용해서 프로젝트를 진행해봤다.

실제 git-flow 전략은 어떤지에 대해 찾아보도록 하자!

### 사용하는 이유

개발 프로세스에서 기존의 것은 비효율을 가지고 있다. 예를 들어, 기획 - 디자인 - 서버 등 많은 사람들과 같이 흐름을 맞추며 개발을 해야하는데 이전 버전에 포함될 기능을 개발하는 것을 비효율적이다.

그리고 기능마다 오래 걸리는 부분도 있기 때문에 이를 프로세스적으로 효율적으로 바꿀 수 있다.

먼저 우선순위가 높은 작업부터 선택해서 작업하고 이번 버전에 포함될 필수 작업과 함께 다음에 배포될 작업들을 병렬로 진행한다.

이렇게 처리해서 배포하는 것이 git-flow 모델에서 사용하면 더 적합하다고 판단해서 이를 적용하도록 한다.

전략으로는 아래 그림과 같다.

![https://s3.ap-northeast-2.amazonaws.com/media.yagom-academy.kr/resources/usr/61ee4c272947bf40f08f337c/20220401/62467d530983dd14920a4852.png](https://s3.ap-northeast-2.amazonaws.com/media.yagom-academy.kr/resources/usr/61ee4c272947bf40f08f337c/20220401/62467d530983dd14920a4852.png)

이 속의 브런치들은 아래와 같이 필요하다.

- master : 제품으로 출시될 수 있는 브랜치
- develop : 다음 출시 버전을 개발하는 브랜치
- feature : 기능을 개발하는 브랜치
- release : 이번 출시 버전을 준비하는 브랜치
- hotfix : 출시 버전에서 발생한 버그를 수정 하는 브랜치

처음에는 master에서 시작하고 develop 브런치를 master에서 나온 브런치다. develop 브런치에서는 상시로 버그를 수정한 커밋들이 추가된다. 

여기에서 새로운 기능에 대한 추가 작업이 필요한 경우 feature 브런치를 생성해서 작업한다. 작업이 완료되면 develop에 합친다. develop에 이번 버전에 포함되는 모든 기능이 merge 되었다면 QA를 하기 위해 develop 브랜치에서부터 release 브랜치를 생성한다. QA를 진행하면서 발생한 버그들은 release 브랜치에 수정된다. QA를 무사히 통과했다면 release 브랜치를 master와 develop 브랜치로 합친다. 마지막으로 출시된 master 브랜치에서 버전 태그를 추가하며 마무리 한다.

내부에서 작성할 커밋명이나 브런치명은 팀원들과 맞춰서 정하면 될듯싶다!

그래서 우리가 선택한 전략으로는 main - develop - Calculator_Step - Feature 방식으로 했으며 기능단위로 Calcualtor_Step 에 PR를 보내고 합치는 방식으로 했다.

그 이후 최종 완성된 것을 develop에 PR 보내서 합치도록 전략을 짰다.

브런치를 팔 때에는 디렉터리에 넣기 위해 Feature/브런치명 방식으로 했으며 브런치명은 기능에 대한 설명이 들어가도록 작성한다.

기능이 완료된다면 머지한 이후 브런치를 지우게 된다. 그리고 커밋이 불필요하게 여러 개가 된다면 squash merge 하는 식으로 한다.

PR의 내용으로는 해당 기능을 설명할 수 있도록 했으며 협업하는 팀원들과 실제 확인 후 승인이 되면 머지하는 방식으로 했다.

또한 라벨과 project를 넣어서 어떤 PR 이였는지 보여지게 했으며 칸반을 활용해서 현재 무엇을 하고 있는지 모든 팀원들이 볼 수 있도록 했다.

이렇게 해보니 확실히 안전성이 올라가고 협업에 도움이 되는 것을 느낄 수 있었다. 

처음에는 불편했지만 막상 구상이 완성된 이후에는 더 편리하게 사용이 가능했다!

그러므로 git-flow 전략도 프로젝트 시작 전 필요한 약속같아보였다!

참고사이트

[https://techblog.woowahan.com/2553/](https://techblog.woowahan.com/2553/)