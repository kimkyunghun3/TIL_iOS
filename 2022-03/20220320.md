# Associated type, 일반화 vs 추상화, 은닉화 vs 캡슐화

연관 타입은 프토로콜에서 사용된다  연관 타입은 타입이 정해져 있지 않는 타입으로 이것을 이용해서 여러 타입이 들어올 수 있게 만드는 것이다. 제네릭과 비슷한 개념이다!

```swift
protocol NameProtocol {
		associatedtype MyType
		var name: MyType { get } 
}
```

원래 typealias였는데 이것이 저렇게 바뀌었다고 합니다!

이것을 이용해서 name에 String, Int 모두 올 수 있습니다.

```swift
struct Eddy: NameProtocol{
    var name: Int{
        return 10
    }
}

struct Eddy: NameProtocol {
    var name: String {
        return "Eddy"
    }
}
```

연관 타입에도 제약을 줄 수 있다 Equatable를 통해 제약을 줄 수있다.

```swift
protocol NameProtocol{
    associatedtype MyType: Equatable
    var name: MyType { get }
}
```

Equatable을 준수하는 타입이여야 한다고 제약하는 의미다.

이를 통해 Equatable로 가능한 부분만 타입으로 지정할 수 있다

Associated Type이 프로토콜에서 나오는 것 같지만 사실, 제네릭에서 나오는 개념이다.

제네릭에서 Placeholder같은 역할을 한다. 타입의 견본을 주는 것으로 실제타입을 주는 것이 아니다.

출처: [https://zeddios.tistory.com/382](https://zeddios.tistory.com/382)


### 일반화 vs 추상화
일반화란 여러가지 객체로부터 공통적인 특성을 추출해서 새로운 객체를 만드는 것이다. 예를 들어 남학생과 여학생을 일반화하면 학생이라는 개념으로 가능하다.

추상화란 어떤 객체로부터 관심 있는 부분만을 추출하고 나머지 부분은 숨기거나 무시하는 것을 말한다. 지하철 노선도를 예시로 들자면 지하철 노선도는 실제 지하철 노선 지도로부터 각 지하철역의 위치 관계만을 추출한다.

일반화는 추상화를 위한 수단이다!


### 은닉화 vs 캡슐화
캡슐화란 관련된 데이터와 관련된 함수들으 클래스라는 하나의 캡슐 속으로 그룹화 혹은 묶어주는 것을 말한다.

한 캡슐 즉 한 클래스 내에 있는 데이터와 함수들을 매우 결합도가 높은 데이터와 함수들로 구성되어야 한다.

캡슐화의 특징

- 추상화 단위가 된다
- 재사용의 단위가 된다
- 정보은닉을 실현하는 장치가 된다

정보은닉과의 차이점은 캡슐화는 관련 요소들을 묶어줌으로써 캡슐 내부와 외부를 구별하는 장치다.

정보은닉은 캡슐 내의 요소들에 대한 세부 구현 사항을 외부에 숨기는 장치다.

정보은닉이란 캡슐 속에 있는 데이터 함수들 가운데 외부에 노출 시키지 않고 내부에 숨기는 장치를 말한다.

정보은닉 하기 위해서는 먼저 캡슐화가 되어야 한다. 그 상태에 있는 것을 은닉하는 것이다.

만약 정보은닉을 다 해버리면 문제는 외부 객체들과 정보를 주고 받을 수 없다. 그러므로 모든 데이터와 함수를 정보은닉 시켜서는 안되고 노출할 필요 없는 데이터와 함수만 은폐해야 한다.

정보은닉의 이점

- 추상화를 향상시켜준다
- 내부 데이터나 알고리즘의 변경이 용이하다
- 모듈의 독립성을 높여준다
- 확장성을 높여준다