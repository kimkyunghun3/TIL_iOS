# **TIL (Today I Learned)**

2월 14일(월)

## **학습 내용**

- 데이터타입
- 객체지향의 특징

클래스는 객체가 가질 수 있는 공통적인 특성, 행위를 뽑아서 하나의 틀을 만드는 것을 의미한다.

객체가 가질 수 있는 공통적인 특성, 행위 등을 뽑는 것을 일반화라고 한다.

행위나 특성을 함수나 변수로 표현해서 클래스화 시킨다. 객체지향에서는 클래스를 자주 사용한다.

객체간의 협력으로 프로그램화 시키는 것을 객체지향적 프로그래밍이라고 한다.

- 일반화 - 연관성 있는 두 개 이상의 개체 집합을 묶어 좀 더 상위의 개체 집합을 만드는 것
- 추상화 - 중요한 특징을 추출해서 간단하게 표현하는 것
- 은닉화 - 숨기는 것
- 캡슐화 - 외부에서 노출은 안되지만 외부에서 사용은 할 수 있다.

[캡슐화하는 순서]

캡슐화 → 먼저 은닉할 것인지 확인하고 은닉하면 일부 사용자에게 보여줘야할지여부 판단해야 한다.

private 자체는 캡슐화가 아니다. 이는 은닉화라고 본다. 캡슐화를 사용하기 위해서는 밖에서 접근할 수 있는 함수에서의 내부를 다른 함수를 호출하는 것으로 할 때 내부 함수를 사용자가 컨트롤하지 않게 하기 위해서는 내부 함수를 캡슐화 하면된다.

### 접근제어란?

현재 파일을 다른 파일이나 모듈 접근하는 제어 범위에 대해 설정하는 것이다. 이를 통해 내 코드 구현한 디테일한 부분을 숨길 수 있다. 

접근제어할 수 있는 방식으로는 5가지가 있다.

- Open, Public access : 가장 전형적인 접근제어 방식으로 어떤 코드든 다른 모듈이나 다른 외부에서도 접근할 수 있다.
- Internal access : 유저가 정의내린 모듈안에의 코드는 모두 접근할 수 있다. 하지만 바깥에 있는 모듈의 코드에 대해서는 접근할 수 없다. 보통 앱이나 프레임워크의 내부 구조를 정의할 때 사용한다.
- File-private access : 자신이 구현한 코드 파일 내로만 제한한다.  전체 파일내에서 기능의 특정 부분의 구현 일부를 숨기기위해서 사용한다.
- Private :  { } 안의 범위로만 제한하거나 같은 파일내에서 선언의 extension에서만 사용을 제한한다. 하나의 선언에서만 사용하는 경우 기능 중 특정 일부 구현 부분만 제한할 때 사용한다.

가장 위부분이 많은 부분을 오픈하고 있고 가장 아래가 제한이 가장 많다.

Open 접근 같은 경우에는 클래스나 클래스 멤버에서 적용하고 public access와 다른 점은 모듈 밖의 subclass나 override의 코드의 접근을 허용한다. 

함수와 파라미터 리턴타입에서 함수가 더 높은 접근 레벨을 가지면 안된다. 왜냐하면 함수에 접근을 못하는데 함수 내부의 접근이 더 낮다면 그건 말이안되는 방식이다.

enum 정의에서 내부 raw value가 더 높으면 안되고, 서브클래스가 슈퍼클래스보다 높으면 안된다

## **문제점 / 고민한 점**

- 캡슐화에 대해 사실 정확하게 구현해본 적이 없었다. 외부에서 접근하지 못한다는 말은 알았는데 이를 실제로 어떤식으로 사용하면 좋을지 고민해보게 되었다.

## **해결 방법**

우리가 만들었던 코드를 야곰이 조금 더 개선시켜서 더 정확한 캡슐화가 되었다.

```swift
class Car {
    private(set) var color: String = "black" // 유저는 읽기만 가능
    let weight: Int = 1000 // 변동 없으므로 상수 
    let brand: String = "benz" // 동일 
    private(set) var pedal: Bool = false // 페달도 읽기만 가능하게끔 구현
    private var engine: Bool = false

    func changeColor(to: String) { // 색 변동을 이런식으로 우리가 제어한다
      color = to
      print("색을 \(to)으로 바꿨습니다")
    }

    func push엑셀() { // 캡슐화 예시
      speedUp()
      playMusic()
      pedal = true

    }

    func pushBreak() {
      slowDown()
    }

    private func playMusic() {

    }

    private func speedUp() {
      engine = true
      print("속도를 올립ㄴ디ㅏ")
    }

    private func slowDown() {
      engine = false
      print("속도를 늦춥니다")
    }
}

var myCar = Car()
myCar.push엑셀()
```

페달 같은 것을 읽기전용으로만 하고 쓰기 전용해서 바꾸게 하는 것도 객체지향적으로 좋지않다(private(set))

색상같은 변수도 바로 지정하지 말고 유저는 쓰기 안되고 읽기만 가능하게해라. 대신 바꾸는 방법을 알려주겠다 방식으로 하는 것이 더 좋은 방향이다.

읽기전용으로 하는 것도 좋은 선택은 아니지만 다른 방안이 별로 없을 때에는 써야한다. 어쩃든 외부에서 값을 접근할 수 있는 것을 최소화하는 것이 필요하다. 값을 외부에서 가져가도록 만드는 것보다는 나한테 물어봐서 내가 답을 주는 방식이 옳은 방향이다. 

타입만드는 것에 대한 고민을 많이 해보자. 어떤 타입이 옳은지 접근제어를 어떤식으로 할지에 대해 매번 고민하자!!